import { findIndex, map, uniq } from 'lodash';
import { validateMatrix1D } from '../ops';
/**
 * Encode labels with value between 0 and n_classes-1.
 *
 * @example
 * import { LabelEncoder } from 'machinelearn/preprocessing';
 *
 * const labelEncoder = new LabelEncoder();
 * const labelX = ['amsterdam', 'paris', 'tokyo'];
 * labelEncoder.fit(labelX);
 * const transformX = ['tokyo', 'tokyo', 'paris'];
 * const result = labelEncoder.transform(transformX);
 * // [ 2, 2, 1 ]
 */
export class LabelEncoder {
    /**
     * Fit label encoder
     * @param {any[]} X - Input data in array or matrix
     */
    fit(X = null) {
        validateMatrix1D(X);
        this.classes = uniq(X);
    }
    /**
     * Transform labels to normalized encoding.
     *
     * Given classes of ['amsterdam', 'paris', 'tokyo']
     *
     * It transforms ["tokyo", "tokyo", "paris"]
     *
     * Into [2, 2, 1]
     * @param X - Input data to transform according to the fitted state
     */
    transform(X = null) {
        validateMatrix1D(X);
        return map(X, item => {
            return findIndex(this.classes, cur => cur === item);
        });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGFiZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvbGliL3ByZXByb2Nlc3NpbmcvbGFiZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBQzlDLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUcxQzs7Ozs7Ozs7Ozs7O0dBWUc7QUFDSCxNQUFNO0lBR0o7OztPQUdHO0lBQ0ksR0FBRyxDQUFDLElBQTBCLElBQUk7UUFDdkMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekIsQ0FBQztJQUVEOzs7Ozs7Ozs7T0FTRztJQUNJLFNBQVMsQ0FBQyxJQUEwQixJQUFJO1FBQzdDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLE9BQU8sR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRTtZQUNuQixPQUFPLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLElBQUksQ0FBQyxDQUFDO1FBQ3RELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQUNGIn0=